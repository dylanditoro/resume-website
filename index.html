<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dylan Di Toro ‚Äî Interactive Portfolio</title>
  <meta name="description" content="Portfolio of Dylan Di Toro ‚Äî Computer Science student in Perth, WA."/>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíª</text></svg>" />
  <style>
    :root {
      --bg: #0a0a0f;
      --fg: #ffffff;
      --muted: #8b949e;
      --card: rgba(17, 25, 40, 0.75);
      --line: rgba(30, 41, 59, 0.5);
      --brand: #00d4ff;
      --accent: #ff6b6b;
      --purple: #8b5cf6;
      --green: #10b981;
    }

    :root.light {
      --bg: #f8fafc;
      --fg: #0f172a;
      --muted: #475569;
      --card: rgba(255, 255, 255, 0.9);
      --line: rgba(226, 232, 240, 0.8);
      --brand: #0ea5e9;
      --accent: #ef4444;
      --purple: #8b5cf6;
      --green: #059669;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      line-height: 1.6;
      background: var(--bg);
      color: var(--fg);
      overflow-x: hidden;
      position: relative;
    }

    /* Animated background */
    .bg-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: 
        radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3), transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3), transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(120, 200, 255, 0.2), transparent 50%);
      animation: bgShift 20s ease-in-out infinite;
    }

    @keyframes bgShift {
      0%, 100% { transform: translateX(0) translateY(0); }
      33% { transform: translateX(-20px) translateY(-20px); }
      66% { transform: translateX(20px) translateY(-10px); }
    }

    /* Interactive Cursor Effects */
    .cursor-effects {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }

    .cursor-bubble {
      position: absolute;
      border-radius: 50%;
      pointer-events: none;
      opacity: 0;
      transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .cursor-bubble.active {
      opacity: 0.6;
      animation: bubbleFloat 4s ease-out forwards;
    }

    @keyframes bubbleFloat {
      0% {
        transform: translate(0, 0) scale(0);
        opacity: 0.8;
      }
      50% {
        opacity: 0.4;
      }
      100% {
        transform: translate(var(--random-x, 0), var(--random-y, -100px)) scale(1);
        opacity: 0;
      }
    }

    /* Cursor trail */
    .cursor-trail {
      position: absolute;
      width: 4px;
      height: 4px;
      background: var(--brand);
      border-radius: 50%;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .cursor-trail.active {
      opacity: 0.8;
      animation: trailFade 1s ease-out forwards;
    }

    @keyframes trailFade {
      0% {
        opacity: 0.8;
        transform: scale(1);
      }
      100% {
        opacity: 0;
        transform: scale(0.2);
      }
    }

    /* Ripple effect */
    .ripple {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle, var(--brand) 0%, transparent 70%);
      pointer-events: none;
      transform: translate(-50%, -50%);
      animation: rippleExpand 0.6s ease-out forwards;
    }

    @keyframes rippleExpand {
      0% {
        width: 0px;
        height: 0px;
        opacity: 0.8;
      }
      100% {
        width: 200px;
        height: 200px;
        opacity: 0;
      }
    }

    /* Floating particles */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--brand);
      border-radius: 50%;
      opacity: 0.5;
      animation: float 20s infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
      10% { opacity: 0.5; }
      90% { opacity: 0.5; }
      100% { transform: translateY(-100vh) translateX(100px); opacity: 0; }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* Header */
    .site-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--line);
      transition: all 0.3s ease;
    }

    .site-header.scrolled {
      background: rgba(10, 10, 15, 0.9);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 24px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .brand h1 {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(45deg, var(--brand), var(--purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .brand p {
      margin: 0;
      color: var(--muted);
      font-size: 0.9rem;
    }

    .primary-nav {
      display: flex;
      align-items: center;
      gap: 32px;
    }

    .primary-nav a {
      color: var(--fg);
      text-decoration: none;
      position: relative;
      padding: 8px 0;
      transition: color 0.3s ease;
    }

    .primary-nav a:hover {
      color: var(--brand);
    }

    .primary-nav a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--brand), var(--purple));
      transition: width 0.3s ease;
    }

    .primary-nav a:hover::after {
      width: 100%;
    }

    /* Hero Section */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      padding: 120px 24px 80px;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }

    .hero h2 {
      font-size: clamp(3rem, 8vw, 6rem);
      font-weight: 900;
      line-height: 1.1;
      margin-bottom: 24px;
      background: linear-gradient(135deg, var(--fg) 0%, var(--brand) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      font-size: 1.3rem;
      color: var(--muted);
      max-width: 600px;
      margin-bottom: 32px;
      line-height: 1.8;
    }

    .cta-row {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    /* Interactive 3D Scene */
    #scene {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, var(--brand), var(--purple));
      color: #000;
      border: none;
      padding: 16px 32px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 600;
      text-decoration: none;
      font-size: 1rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px rgba(0, 212, 255, 0.3);
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s ease;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(0, 212, 255, 0.4);
    }

    .btn.outline {
      background: transparent;
      color: var(--brand);
      border: 2px solid var(--brand);
      box-shadow: 0 4px 20px rgba(0, 212, 255, 0.1);
    }

    .btn.outline:hover {
      background: var(--brand);
      color: #000;
    }

    .btn.ghost {
      background: rgba(255, 255, 255, 0.1);
      color: var(--fg);
      border: 1px solid var(--line);
      backdrop-filter: blur(10px);
    }

    /* Main Content */
    main {
      position: relative;
      z-index: 2;
    }

    .section {
      margin: 120px 0;
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.8s ease;
    }

    .section.revealed {
      opacity: 1;
      transform: translateY(0);
    }

    .card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 24px;
      padding: 48px;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--brand), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .card:hover::before {
      opacity: 1;
    }

    .card:hover {
      transform: translateY(-8px);
      border-color: var(--brand);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .section h3 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 24px;
      background: linear-gradient(135deg, var(--fg), var(--brand));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Projects Grid */
    .section-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      flex-wrap: wrap;
      gap: 20px;
    }

    .filters {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .chip {
      padding: 12px 24px;
      border: 2px solid var(--line);
      background: transparent;
      color: var(--muted);
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .chip::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, var(--brand), var(--purple));
      transform: translate(-50%, -50%);
      transition: all 0.3s ease;
      border-radius: 50%;
      z-index: -1;
      opacity: 0.1;
    }

    .chip:hover::before,
    .chip.is-active::before {
      width: 200%;
      height: 200%;
    }

    .chip:hover,
    .chip.is-active {
      color: var(--brand);
      border-color: var(--brand);
      transform: scale(1.05);
    }

    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 32px;
      list-style: none;
    }

    .project-card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 20px;
      overflow: hidden;
      transition: all 0.5s cubic-bezier(0.23, 1, 0.320, 1);
      position: relative;
    }

    .project-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(139, 92, 246, 0.1));
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1;
      pointer-events: none;
    }

    .project-card:hover::before {
      opacity: 1;
    }

    .project-card:hover {
      transform: translateY(-12px) scale(1.02);
      border-color: var(--brand);
      box-shadow: 0 25px 80px rgba(0, 212, 255, 0.15);
    }

    .project-header {
      height: 200px;
      background: linear-gradient(135deg, var(--brand), var(--purple));
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .project-icon {
      font-size: 4rem;
      color: rgba(0, 0, 0, 0.7);
      z-index: 2;
      position: relative;
    }

    .project-header::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 300%;
      height: 300%;
      background: conic-gradient(from 0deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: translate(-50%, -50%) rotate(0deg);
      animation: rotate 10s linear infinite;
    }

    @keyframes rotate {
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }

    .project-body {
      padding: 32px;
      position: relative;
      z-index: 2;
    }

    .project-card h4 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 12px;
      color: var(--fg);
    }

    .project-card p {
      color: var(--muted);
      margin-bottom: 20px;
      line-height: 1.7;
    }

    .meta {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .tag {
      background: rgba(0, 212, 255, 0.1);
      border: 1px solid rgba(0, 212, 255, 0.3);
      color: var(--brand);
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .actions {
      display: flex;
      gap: 12px;
    }

    .btn.small {
      padding: 10px 20px;
      font-size: 0.9rem;
    }

    /* Skills Section */
    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-top: 40px;
    }

    .skill-category {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 32px;
      transition: all 0.3s ease;
    }

    .skill-category:hover {
      transform: translateY(-4px);
      border-color: var(--brand);
    }

    .skill-category h4 {
      font-size: 1.3rem;
      margin-bottom: 20px;
      color: var(--brand);
    }

    .skill-bars {
      display: grid;
      gap: 16px;
    }

    .skill-bar {
      position: relative;
    }

    .skill-bar span {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .skill-progress {
      height: 8px;
      background: var(--line);
      border-radius: 4px;
      overflow: hidden;
      position: relative;
    }

    .skill-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--brand), var(--purple));
      border-radius: 4px;
      width: 0;
      transition: width 1.5s cubic-bezier(0.23, 1, 0.320, 1);
      position: relative;
    }

    .skill-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    /* Interactive Console */
    .console {
      background: #1a1a1a;
      border: 1px solid var(--brand);
      border-radius: 12px;
      margin: 40px 0;
      overflow: hidden;
      box-shadow: 0 0 50px rgba(0, 212, 255, 0.2);
    }

    .console-header {
      background: linear-gradient(90deg, var(--brand), var(--purple));
      padding: 12px 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .console-controls {
      display: flex;
      gap: 8px;
    }

    .console-btn {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: none;
    }

    .console-btn.close { background: #ff5f56; }
    .console-btn.min { background: #ffbd2e; }
    .console-btn.max { background: #27ca3f; }

    .console-title {
      color: #000;
      font-weight: 600;
      margin-left: 12px;
    }

    .console-body {
      padding: 24px;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .console-line {
      margin-bottom: 8px;
      opacity: 0;
      animation: typewriter 0.5s forwards;
    }

    .console-prompt {
      color: var(--brand);
    }

    .console-output {
      color: var(--green);
    }

    .console-comment {
      color: var(--muted);
    }

    @keyframes typewriter {
      to { opacity: 1; }
    }

    /* Contact Form */
    .contact-form {
      display: grid;
      gap: 20px;
      margin-top: 32px;
    }

    .form-group {
      position: relative;
    }

    .contact-form input,
    .contact-form textarea {
      width: 100%;
      background: rgba(0, 0, 0, 0.3);
      border: 2px solid var(--line);
      border-radius: 12px;
      padding: 16px 20px;
      color: var(--fg);
      font-size: 1rem;
      transition: all 0.3s ease;
      outline: none;
    }

    .contact-form input:focus,
    .contact-form textarea:focus {
      border-color: var(--brand);
      box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
      transform: scale(1.02);
    }

    .contact-form input::placeholder,
    .contact-form textarea::placeholder {
      color: var(--muted);
    }

    /* Scroll indicator */
    .scroll-indicator {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 3px;
      background: linear-gradient(90deg, var(--brand), var(--purple));
      z-index: 1001;
      transition: width 0.1s ease;
    }

    /* Back to top button */
    .to-top {
      position: fixed;
      right: 32px;
      bottom: 32px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--brand), var(--purple));
      border: none;
      border-radius: 50%;
      color: #000;
      font-size: 1.5rem;
      font-weight: 700;
      cursor: pointer;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.3s ease;
      z-index: 1000;
      box-shadow: 0 8px 30px rgba(0, 212, 255, 0.3);
    }

    .to-top.show {
      opacity: 1;
      transform: translateY(0);
    }

    .to-top:hover {
      transform: translateY(-4px) scale(1.1);
      box-shadow: 0 12px 40px rgba(0, 212, 255, 0.4);
    }

    /* Theme toggle */
    #themeToggle {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    #themeToggle:hover {
      transform: rotate(180deg) scale(1.1);
    }

    /* iPhone-specific enhancements */
    @supports (-webkit-touch-callout: none) {
      /* Device motion and orientation features */
      .tilt-container {
        transform-style: preserve-3d;
        transition: transform 0.1s ease-out;
      }
      
      /* Haptic feedback visual cues */
      .haptic-ready {
        position: relative;
      }
      
      .haptic-ready::after {
        content: '';
        position: absolute;
        inset: -2px;
        background: linear-gradient(45deg, var(--brand), var(--purple));
        border-radius: inherit;
        z-index: -1;
        opacity: 0;
        transition: opacity 0.2s ease;
      }
      
      .haptic-active::after {
        opacity: 0.3;
        animation: hapticPulse 0.3s ease-out;
      }
      
      @keyframes hapticPulse {
        0% { transform: scale(1); opacity: 0.3; }
        50% { transform: scale(1.05); opacity: 0.6; }
        100% { transform: scale(1); opacity: 0.3; }
      }
      
      /* Shake animation for interactions */
      .shake {
        animation: shake 0.5s ease-in-out;
      }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
      }
      
      /* Double tap zoom areas */
      .zoom-area {
        transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      
      .zoom-area.zoomed {
        transform: scale(1.1);
        z-index: 10;
      }
    }

    /* Touch-specific cursor effects for mobile */
    @media (hover: none) and (pointer: coarse) {
      .touch-bubble {
        position: absolute;
        width: 60px;
        height: 60px;
        background: radial-gradient(circle, var(--brand), transparent);
        border-radius: 50%;
        pointer-events: none;
        opacity: 0;
        transform: scale(0);
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      
      .touch-bubble.active {
        opacity: 0.6;
        transform: scale(2);
        animation: touchRipple 0.8s ease-out forwards;
      }
      
      @keyframes touchRipple {
        0% { opacity: 0.6; transform: scale(0); }
        50% { opacity: 0.4; transform: scale(1.5); }
        100% { opacity: 0; transform: scale(2); }
      }
      
      /* Swipe indicators */
      .swipe-hint {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        color: var(--muted);
        font-size: 0.9rem;
        opacity: 0.7;
        animation: swipeHint 2s ease-in-out infinite;
      }
      
      @keyframes swipeHint {
        0%, 100% { transform: translateX(-50%) translateY(0); }
        50% { transform: translateX(-50%) translateY(-5px); }
      }
    }

    /* iOS Safari specific fixes */
    @supports (-webkit-appearance: none) {
      .ios-safe-area {
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
      }
      
      /* Fix for iOS scrolling */
      body {
        -webkit-overflow-scrolling: touch;
      }
      
      /* iOS status bar styling */
      .site-header {
        padding-top: max(16px, env(safe-area-inset-top));
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        gap: 16px;
      }

      .primary-nav {
        gap: 20px;
      }

      .hero h2 {
        font-size: clamp(2.5rem, 6vw, 4rem);
      }

      .hero p {
        font-size: 1.1rem;
      }

      .card {
        padding: 32px 24px;
      }

      .projects-grid {
        grid-template-columns: 1fr;
      }

      .cta-row {
        flex-direction: column;
      }
      
      /* Mobile-specific enhancements */
      .project-card {
        border-radius: 16px;
        margin-bottom: 16px;
      }
      
      .btn {
        min-height: 44px; /* iOS touch target size */
        padding: 12px 24px;
      }
      
      /* Touch-friendly spacing */
      .chip {
        min-height: 44px;
        padding: 12px 20px;
      }
      
      /* Swipe gestures hint */
      .projects-grid::after {
        content: '‚Üê Swipe for more projects ‚Üí';
        display: block;
        text-align: center;
        color: var(--muted);
        font-size: 0.85rem;
        margin-top: 16px;
        opacity: 0.6;
      }
    }

    /* Interactive Constellation */
    .constellation-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
      z-index: 10000;
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .constellation-overlay.active {
      display: block;
      opacity: 1;
    }

    #constellationCanvas {
      width: 100%;
      height: 100%;
      display: block;
      cursor: crosshair;
    }

    .constellation-ui {
      position: absolute;
      top: 20px;
      left: 20px;
      right: 20px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      pointer-events: none;
    }

    .constellation-close {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid var(--brand);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      color: var(--brand);
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      pointer-events: auto;
    }

    .constellation-close:hover {
      background: var(--brand);
      color: #000;
      transform: scale(1.1);
    }

    .constellation-info {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid var(--brand);
      border-radius: 15px;
      padding: 15px 20px;
      backdrop-filter: blur(10px);
      color: var(--fg);
      font-family: 'Monaco', monospace;
    }

    .constellation-hint {
      font-size: 0.85rem;
      color: var(--muted);
      margin-top: 5px;
    }

    .constellation-trigger {
      position: fixed;
      bottom: 100px;
      right: 32px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--purple), var(--brand));
      border: none;
      border-radius: 50%;
      color: #000;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 8px 30px rgba(139, 92, 246, 0.3);
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .constellation-trigger:hover {
      transform: translateY(-4px) scale(1.1);
      box-shadow: 0 12px 40px rgba(139, 92, 246, 0.4);
    }

    @keyframes constellationGlow {
      0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.3); }
      50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.6); }
    }

    .constellation-trigger.glow {
      animation: constellationGlow 2s ease-in-out infinite;
    }

    /* Loading animation */
    .loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 3px solid var(--line);
      border-top: 3px solid var(--brand);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .hidden {
      opacity: 0;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="loading" id="loading">
    <div class="loading-spinner"></div>
  </div>

  <div class="scroll-indicator" id="scrollIndicator"></div>

  <div class="bg-animation"></div>
  <div class="particles" id="particles"></div>
  
  <div class="cursor-effects" id="cursorEffects"></div>

  <header class="site-header" id="header">
    <div class="header-content">
      <div class="brand">
        <h1>Dylan Di Toro</h1>
        <p>Computer Science ‚Ä¢ Perth, WA</p>
      </div>
      <nav class="primary-nav">
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#skills">Skills</a>
        <a href="#contact">Contact</a>
        <button id="themeToggle" class="btn ghost" aria-label="Toggle theme">üåì</button>
      </nav>
    </div>
  </header>

  <section class="hero">
    <canvas id="scene"></canvas>
    <div class="hero-content">
      <div>
        <h2>Building the Future</h2>
        <p>I'm a CS student passionate about creating innovative software solutions. From elegant algorithms to immersive web experiences, I love turning complex problems into simple, beautiful code.</p>
        <div class="cta-row">
          <a class="btn" href="https://github.com/dylanditoro" target="_blank" rel="noopener">
            üöÄ Explore GitHub
          </a>
          <a class="btn outline" href="#projects">
            üí° View Projects
          </a>
        </div>
      </div>
    </div>
  </section>

  <main class="container">
    <section id="about" class="section">
      <div class="card">
        <h3>About Me</h3>
        <p style="font-size: 1.1rem; color: var(--fg); margin-bottom: 24px;">
          Currently pursuing Computer Science at ECU with a focus on software engineering, cybersecurity, and systems design. I'm passionate about building efficient, scalable solutions and have hands-on experience with modern development practices.
        </p>
        <p style="font-size: 1rem; color: var(--muted); margin-bottom: 24px;">
          My journey started with curiosity about how systems work under the hood, leading me to explore everything from network protocols to database optimization. I enjoy the challenge of writing clean, maintainable code and believe in the power of well-documented, thoughtful software architecture.
        </p>
        
        <div class="console">
          <div class="console-header">
            <div class="console-controls">
              <button class="console-btn close"></button>
              <button class="console-btn min"></button>
              <button class="console-btn max"></button>
            </div>
            <div class="console-title">~/dylan-profile --status</div>
          </div>
          <div class="console-body" id="consoleBody">
            </div>
        </div>
      </div>
    </section>

    <section id="projects" class="section">
      <div class="section-head">
        <h3>Featured Projects</h3>
        <div class="filters" aria-label="Project filters">
          <button class="chip is-active" data-filter="all">All</button>
          <button class="chip" data-filter="python">Python</button>
          <button class="chip" data-filter="sql">SQL</button>
          <button class="chip" data-filter="web">Web</button>
          <button class="chip" data-filter="ai">AI/ML</button>
        </div>
      </div>

      <ul class="projects-grid">
        <li class="project-card" data-tags="python,web">
          <div class="project-header">
            <div class="project-icon">üìù</div>
          </div>
          <div class="project-body">
            <h4>Smart Task Manager</h4>
            <p>AI-powered task management system with natural language processing. Features intelligent priority scoring, deadline predictions, and productivity analytics. Built with Python, Flask, and scikit-learn.</p>
            <div class="meta">
              <span class="tag">Python</span>
              <span class="tag">Flask</span>
              <span class="tag">ML</span>
              <span class="tag">NLP</span>
            </div>
            <div class="actions">
              <a class="btn small" href="#" onclick="showDemo('todo')">Live Demo</a>
              <a class="btn small outline" href="https://github.com/dylanditoro/smart-task-manager" target="_blank">GitHub</a>
            </div>
          </div>
        </li>

        <li class="project-card" data-tags="python,security">
          <div class="project-header">
            <div class="project-icon">üõ°Ô∏è</div>
          </div>
          <div class="project-body">
            <h4>Network Security Scanner</h4>
            <p>Comprehensive network vulnerability scanner with real-time threat detection. Implements port scanning, service enumeration, and automated reporting. Built for cybersecurity coursework with enterprise-grade logging.</p>
            <div class="meta">
              <span class="tag">Python</span>
              <span class="tag">Networking</span>
              <span class="tag">Security</span>
              <span class="tag">Wireshark</span>
            </div>
            <div class="actions">
              <a class="btn small" href="#" onclick="showDemo('security')">View Demo</a>
              <a class="btn small outline" href="https://github.com/dylanditoro/network-scanner" target="_blank">GitHub</a>
            </div>
          </div>
        </li>

        <li class="project-card" data-tags="sql,web">
          <div class="project-header">
            <div class="project-icon">üìä</div>
          </div>
          <div class="project-body">
            <h4>SQL Analytics Dashboard</h4>
            <p>Interactive data visualization platform processing university enrollment data. Features complex joins, stored procedures, and real-time charting. Handles 10K+ records with sub-second query performance.</p>
            <div class="meta">
              <span class="tag">SQL</span>
              <span class="tag">PostgreSQL</span>
              <span class="tag">Chart.js</span>
              <span class="tag">Flask</span>
            </div>
            <div class="actions">
              <a class="btn small" href="#" onclick="showDemo('analytics')">Live Demo</a>
              <a class="btn small outline" href="https://github.com/dylanditoro/sql-analytics-dashboard" target="_blank">GitHub</a>
            </div>
          </div>
        </li>

        <li class="project-card" data-tags="web">
          <div class="project-header">
            <div class="project-icon">üé®</div>
          </div>
          <div class="project-body">
            <h4>Interactive Portfolio</h4>
            <p>This website! Built with vanilla JavaScript, Three.js 3D graphics, and advanced CSS animations. Features particle systems, WebGL effects, and responsive design optimized for performance.</p>
            <div class="meta">
              <span class="tag">JavaScript</span>
              <span class="tag">Three.js</span>
              <span class="tag">WebGL</span>
              <span class="tag">CSS</span>
            </div>
            <div class="actions">
              <a class="btn small" href="#contact">Contact Me</a>
              <a class="btn small outline" href="https://github.com/dylanditoro/portfolio" target="_blank">Source</a>
            </div>
          </div>
        </li>

        <li class="project-card" data-tags="ai,python">
          <div class="project-header">
            <div class="project-icon">ü§ñ</div>
          </div>
          <div class="project-body">
            <h4>Campus Navigation AI</h4>
            <p>Machine learning model for optimal campus pathfinding using real-time crowd data. Implements A* algorithm with dynamic weight adjustment. Achieved 23% faster routes during peak hours using regression analysis.</p>
            <div class="meta">
              <span class="tag">Python</span>
              <span class="tag">TensorFlow</span>
              <span class="tag">Algorithms</span>
              <span class="tag">Data Science</span>
            </div>
            <div class="actions">
              <a class="btn small" href="#" onclick="showDemo('ai')">Demo Video</a>
              <a class="btn small outline" href="https://github.com/dylanditoro/campus-nav-ai" target="_blank">GitHub</a>
            </div>
          </div>
        </li>
      </ul>
    </section>

    <section id="skills" class="section">
      <div class="card">
        <h3>Technical Expertise</h3>
        <div class="skills-grid">
          <div class="skill-category">
            <h4>üîß Languages & Frameworks</h4>
            <div class="skill-bars">
              <div class="skill-bar">
                <span>Python</span>
                <div class="skill-progress">
                  <div class="skill-fill" data-width="90"></div>
                </div>
              </div>
              <div class="skill-bar">
                <span>Java</span>
                <div class="skill-progress">
                  <div class="skill-fill" data-width="80"></div>
                </div>
              </div>
              <div class="skill-bar">
                <span>JavaScript</span>
                <div class="skill-progress">
                  <div class="skill-fill" data-width="85"></div>
                </div>
              </div>
              <div class="skill-bar">
                <span>SQL</span>
                <div class="skill-progress">
                  <div class="skill-fill" data-width="88"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="skill-category">
            <h4>‚ö° Tools & Platforms</h4>
            <div class="skill-bars">
              <div class="skill-bar">
                <span>Linux/Unix</span>
                <div class="skill-progress">
                  <div class="skill-fill" data-width="85"></div>
                </div>
              </div>
              <div class="skill-bar">
                <span>Git/GitHub</span>
                <div class="skill-progress">
                  <div class="skill-fill" data-width="90"></div>
                </div>
              </div>
              <div class="skill-bar">
                <span>Docker</span>
                <div class="skill-progress">
                  <div class="skill-fill" data-width="70"></div>
                </div>
              </div>
              <div class="skill-bar">
                <span>Wireshark</span>
                <div class="skill-progress">
                  <div class="skill-fill" data-width="75"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="experience" class="section">
      <div class="card">
        <h3>Experience & Education</h3>
        <div style="margin-top: 32px; display: grid; gap: 24px;">
          <div style="padding: 24px; border-left: 3px solid var(--brand); background: rgba(0, 212, 255, 0.05); border-radius: 0 12px 12px 0;">
            <h4 style="color: var(--brand); margin-bottom: 8px;">Computer Science Student</h4>
            <p style="color: var(--muted); margin-bottom: 12px;">Edith Cowan University ‚Ä¢ 2023 - Present</p>
            <p>Focus on software engineering, cybersecurity, and database systems. Relevant coursework includes Data Structures & Algorithms, Network Security, Database Design, and Software Engineering Principles.</p>
          </div>
          <div style="padding: 24px; border-left: 3px solid var(--purple); background: rgba(139, 92, 246, 0.05); border-radius: 0 12px 12px 0;">
            <h4 style="color: var(--purple); margin-bottom: 8px;">Personal Projects</h4>
            <p style="color: var(--muted); margin-bottom: 12px;">Self-Directed Learning ‚Ä¢ 2022 - Present</p>
            <p>Built full-stack applications, contributed to open-source projects, and developed automated tools for academic research. Continuously learning new technologies and best practices.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="section">
      <div class="card">
        <h3>Let's Connect</h3>
        <p style="font-size: 1.1rem; margin-bottom: 24px;">Ready to discuss opportunities, collaborate on projects, or just chat about technology.</p>
        
        <form action="https://formspree.io/f/YOUR_FORM_ID" method="POST" class="contact-form">
          <div class="form-group">
            <input name="name" placeholder="Your name" required />
          </div>
          <div class="form-group">
            <input type="email" name="_replyto" placeholder="Your email" required />
          </div>
          <div class="form-group">
            <textarea name="message" rows="4" placeholder="Your message" required></textarea>
          </div>
          <div class="cta-row">
            <button class="btn" type="submit">üöÄ Send Message</button>
            <button class="btn outline" type="button" id="copyEmail">üìß Copy Email</button>
          </div>
        </form>
        <small id="copied" class="muted" style="margin-top: 12px; display: block;" role="status" aria-live="polite"></small>
        
        <div style="margin-top: 40px; padding-top: 32px; border-top: 1px solid var(--line); text-align: center;">
          <p style="color: var(--muted); margin-bottom: 16px;">Find me online</p>
          <div style="display: flex; justify-content: center; gap: 20px;">
            <a href="https://github.com/dylanditoro" target="_blank" style="color: var(--brand); font-size: 1.5rem; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">üêô</a>
            <a href="https://linkedin.com/in/dylanditoro" target="_blank" style="color: var(--brand); font-size: 1.5rem; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">üíº</a>
            <a href="mailto:ditorodylan@gmail.com" style="color: var(--brand); font-size: 1.5rem; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'">üìß</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <button id="toTop" class="to-top" aria-label="Back to top">‚Üë</button>

  <button id="constellationTrigger" class="constellation-trigger glow" aria-label="Interactive Constellation" title="Create your own constellation!">‚ú®</button>

  <div class="constellation-overlay" id="constellationOverlay">
    <canvas id="constellationCanvas"></canvas>
    <div class="constellation-ui">
      <button class="constellation-close" id="constellationClose">√ó</button>
      <div class="constellation-info">
        <span id="constellationCounter">Stars: 0</span>
        <div class="constellation-hint">Touch to create stars ‚Ä¢ Tilt to shift gravity</div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    // Define isIOS variable at the top
    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);

    // Initial check for loading
    window.addEventListener('load', () => {
      setTimeout(() => {
        const loadingScreen = document.getElementById('loading');
        if (loadingScreen) {
          loadingScreen.classList.add('hidden');
        }
      }, 1000);
    });

    // Create particles
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      if (!particlesContainer) return;
      const numParticles = isIOS ? 25 : 50;
      for (let i = 0; i < numParticles; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    // Interactive Cursor Effects
    let mouseX = 0, mouseY = 0;
    let isMouseMoving = false;
    let mouseTimeout;

    function createCursorEffects() {
      const cursorContainer = document.getElementById('cursorEffects');
      if (!cursorContainer) return;

      function createBubble(x, y) {
        const bubble = document.createElement('div');
        bubble.className = 'cursor-bubble';
        
        const size = Math.random() * 30 + 10;
        const colors = ['var(--brand)', 'var(--purple)', 'var(--accent)'];
        const color = colors[Math.floor(Math.random() * colors.length)];
        
        bubble.style.width = size + 'px';
        bubble.style.height = size + 'px';
        bubble.style.left = (x - size / 2) + 'px';
        bubble.style.top = (y - size / 2) + 'px';
        bubble.style.background = `radial-gradient(circle, ${color}, transparent)`;
        
        const randomX = (Math.random() - 0.5) * 200;
        const randomY = -(Math.random() * 150 + 50);
        bubble.style.setProperty('--random-x', randomX + 'px');
        bubble.style.setProperty('--random-y', randomY + 'px');
        
        cursorContainer.appendChild(bubble);
        
        setTimeout(() => bubble.classList.add('active'), 10);
        
        setTimeout(() => {
          if (bubble.parentNode) {
            bubble.parentNode.removeChild(bubble);
          }
        }, 4000);
      }

      function createCursorTrail(x, y) {
        const trail = document.createElement('div');
        trail.className = 'cursor-trail';
        trail.style.left = x + 'px';
        trail.style.top = y + 'px';
        
        cursorContainer.appendChild(trail);
        
        setTimeout(() => trail.classList.add('active'), 10);
        
        setTimeout(() => {
          if (trail.parentNode) {
            trail.parentNode.removeChild(trail);
          }
        }, 1000);
      }

      function createRipple(x, y) {
        const ripple = document.createElement('div');
        ripple.className = 'ripple';
        ripple.style.left = x + 'px';
        ripple.style.top = y + 'px';
        
        cursorContainer.appendChild(ripple);
        
        setTimeout(() => {
          if (ripple.parentNode) {
            ripple.parentNode.removeChild(ripple);
          }
        }, 600);
      }

      let bubbleCounter = 0;
      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        isMouseMoving = true;
        
        clearTimeout(mouseTimeout);
        mouseTimeout = setTimeout(() => {
          isMouseMoving = false;
        }, 100);
        
        createCursorTrail(mouseX, mouseY);
        
        bubbleCounter++;
        if (bubbleCounter % 8 === 0) {
          createBubble(mouseX, mouseY);
        }
      });

      document.addEventListener('click', (e) => {
        createRipple(e.clientX, e.clientY);
        
        for (let i = 0; i < 3; i++) {
          setTimeout(() => {
            createBubble(
              e.clientX + (Math.random() - 0.5) * 100,
              e.clientY + (Math.random() - 0.5) * 100
            );
          }, i * 100);
        }
      });

      const interactiveElements = document.querySelectorAll('.btn, .chip, .project-card');
      interactiveElements.forEach(element => {
        element.addEventListener('mouseenter', (e) => {
          const rect = element.getBoundingClientRect();
          const centerX = rect.left + rect.width / 2;
          const centerY = rect.top + rect.height / 2;
          
          for (let i = 0; i < 5; i++) {
            setTimeout(() => {
              createBubble(
                centerX + (Math.random() - 0.5) * rect.width,
                centerY + (Math.random() - 0.5) * rect.height
              );
            }, i * 50);
          }
        });
      });
    }

    // Enhanced 3D Scene Setup with mouse interaction
    let scene, camera, renderer;
    function init3D() {
      const canvas = document.getElementById('scene');
      if (!canvas) return;
      
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
      renderer.setSize(window.innerWidth, window.innerHeight);

      const geometries = [
        new THREE.BoxGeometry(1, 1, 1),
        new THREE.SphereGeometry(0.7, 32, 32),
        new THREE.ConeGeometry(0.7, 1.5, 8)
      ];

      const objects = [];
      for (let i = 0; i < 15; i++) {
        const geometry = geometries[Math.floor(Math.random() * geometries.length)];
        const material = new THREE.MeshBasicMaterial({ 
          color: i % 3 === 0 ? 0x00d4ff : i % 3 === 1 ? 0x8b5cf6 : 0xff6b6b,
          transparent: true,
          opacity: 0.6,
          wireframe: true
        });
        const mesh = new THREE.Mesh(geometry, material);
        
        mesh.position.x = (Math.random() - 0.5) * 20;
        mesh.position.y = (Math.random() - 0.5) * 20;
        mesh.position.z = (Math.random() - 0.5) * 20;
        
        mesh.rotation.x = Math.random() * Math.PI;
        mesh.rotation.y = Math.random() * Math.PI;
        
        mesh.userData.originalX = mesh.position.x;
        mesh.userData.originalY = mesh.position.y;
        mesh.userData.originalZ = mesh.position.z;
        
        scene.add(mesh);
        objects.push(mesh);
      }

      camera.position.z = 15;

      function animate() {
        requestAnimationFrame(animate);
        
        objects.forEach((obj, index) => {
          obj.rotation.x += 0.01 + index * 0.001;
          obj.rotation.y += 0.01 + index * 0.001;
          obj.position.y += Math.sin(Date.now() * 0.001 + index) * 0.001;
          
          if (isMouseMoving) {
            const mouseInfluence = 0.02;
            const normalizedMouseX = (mouseX / window.innerWidth - 0.5) * 2;
            const normalizedMouseY = -(mouseY / window.innerHeight - 0.5) * 2;
            
            const distanceX = obj.userData.originalX - normalizedMouseX * 10;
            const distanceY = obj.userData.originalY - normalizedMouseY * 10;
            
            obj.position.x += (distanceX - obj.position.x) * mouseInfluence;
            obj.position.y += (distanceY - obj.position.y) * mouseInfluence;
          } else {
            obj.position.x += (obj.userData.originalX - obj.position.x) * 0.02;
            obj.position.y += (obj.userData.originalY - obj.position.y) * 0.02;
          }
        });

        const targetX = mouseX * 0.001;
        const targetY = -mouseY * 0.001;
        camera.position.x += (targetX - camera.position.x) * 0.05;
        camera.position.y += (targetY - camera.position.y) * 0.05;
        camera.lookAt(scene.position);

        renderer.render(scene, camera);
      }
      animate();
    }

    window.addEventListener('resize', () => {
      if (camera && renderer) {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }
    });

    // Console animation
    function animateConsole() {
      const lines = [
        { type: 'prompt', text: 'dylan@portfolio:~$ whoami' },
        { type: 'output', text: 'Dylan Di Toro' },
        { type: 'prompt', text: 'dylan@portfolio:~$ cat interests.txt' },
        { type: 'output', text: '‚Ä¢ Software Engineering' },
        { type: 'output', text: '‚Ä¢ Cybersecurity & Network Analysis' },
        { type: 'output', text: '‚Ä¢ Database Optimization' },
        { type: 'output', text: '‚Ä¢ Machine Learning & AI' },
        { type: 'prompt', text: 'dylan@portfolio:~$ echo $GOALS' },
        { type: 'output', text: 'Building innovative solutions that make a difference' },
        { type: 'comment', text: '# Currently seeking internship opportunities!' }
      ];

      const consoleBody = document.getElementById('consoleBody');
      if (!consoleBody) return;
      
      let index = 0;

      function typeLine() {
        if (index < lines.length) {
          const line = lines[index];
          const div = document.createElement('div');
          div.className = `console-line console-${line.type}`;
          div.style.animationDelay = `${index * 0.3}s`;
          
          if (line.type === 'prompt') {
            div.innerHTML = `<span class="console-prompt">$</span> ${line.text}`;
          } else {
            div.textContent = line.text;
          }
          
          consoleBody.appendChild(div);
          index++;
          setTimeout(typeLine, 800);
        }
      }
      
      setTimeout(typeLine, 1000);
    }

    // Scroll progress indicator
    function updateScrollProgress() {
      const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
      const indicator = document.getElementById('scrollIndicator');
      if (indicator) {
        indicator.style.width = scrolled + '%';
      }
    }

    // Header scroll effect
    function updateHeader() {
      const header = document.getElementById('header');
      if (header) {
        if (window.scrollY > 100) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      }
    }

    // Reveal animations
    function setupRevealAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('revealed');
            
            if (entry.target.id === 'skills') {
              setTimeout(() => {
                const skillFills = entry.target.querySelectorAll('.skill-fill');
                skillFills.forEach(fill => {
                  const width = fill.dataset.width;
                  fill.style.width = width + '%';
                });
              }, 300);
            }
          }
        });
      }, { threshold: 0.2 });

      document.querySelectorAll('.section').forEach(el => observer.observe(el));
    }

    // Project filters
    function setupFilters() {
      const chips = document.querySelectorAll('.chip');
      const cards = document.querySelectorAll('.project-card');
      
      chips.forEach(chip => chip.addEventListener('click', () => {
        chips.forEach(c => c.classList.remove('is-active'));
        chip.classList.add('is-active');
        
        const filter = chip.dataset.filter;
        cards.forEach(card => {
          const tags = card.dataset.tags.split(',');
          const shouldShow = filter === 'all' || tags.includes(filter);
          
          if (shouldShow) {
            card.style.display = '';
            setTimeout(() => {
              card.style.transform = 'translateY(0) scale(1)';
              card.style.opacity = '1';
            }, 50);
          } else {
            card.style.transform = 'translateY(20px) scale(0.95)';
            card.style.opacity = '0';
            setTimeout(() => {
              card.style.display = 'none';
            }, 300);
          }
        });
      }));
    }

    // Project demos
    function showDemo(project) {
      const demos = {
        todo: 'This would open a live demo of the Smart Task Manager with AI features.',
        security: 'This would show a video demonstration of the network security scanner.',
        analytics: 'This would open the live SQL analytics dashboard.',
        ai: 'This would play a demo video of the campus navigation AI in action.'
      };
      
      alert(demos[project] + '\n\n(In a real implementation, this would open the actual demo!)');
    }

    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    if (themeToggle) {
      themeToggle.addEventListener('click', () => {
        document.documentElement.classList.toggle('light');
      });
    }

    // Copy email
    const copyEmailBtn = document.getElementById('copyEmail');
    if (copyEmailBtn) {
      copyEmailBtn.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText('ditorodylan@gmail.com');
          const el = document.getElementById('copied');
          if (el) {
            el.textContent = 'Email copied to clipboard ‚úÖ';
            el.style.color = 'var(--green)';
            setTimeout(() => {
              el.textContent = '';
            }, 3000);
          }
        } catch (err) {
          const el = document.getElementById('copied');
          if (el) {
            el.textContent = 'Email: ditorodylan@gmail.com';
            el.style.color = 'var(--brand)';
          }
        }
      });
    }

    // Back to top
    const toTop = document.getElementById('toTop');
    window.addEventListener('scroll', () => {
      updateScrollProgress();
      updateHeader();
      
      if (toTop) {
        if (window.scrollY > 600) {
          toTop.classList.add('show');
        } else {
          toTop.classList.remove('show');
        }
      }
    });

    if (toTop) {
      toTop.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // iPhone-specific features
    let deviceMotionEnabled = false;
    let touchStartTime = 0;
    let touchPoints = [];
    let lastTouchTime = 0;

    function initializeIOSFeatures() {
      if (!isIOS) return;

      if (typeof DeviceOrientationEvent !== 'undefined') {
        requestDeviceMotionPermission();
      }

      initializeTouchEffects();
      initializeSwipeGestures();
      initializeDoubleTapZoom();
      initializeHapticEffects();
      adjustForIOSQuirks();
    }

    function requestDeviceMotionPermission() {
      if (typeof DeviceOrientationEvent.requestPermission === 'function') {
        const motionBtn = document.createElement('button');
        motionBtn.textContent = 'Enable Tilt Effects';
        motionBtn.className = 'btn outline';
        motionBtn.style.position = 'fixed';
        motionBtn.style.top = '50%';
        motionBtn.style.left = '50%';
        motionBtn.style.transform = 'translate(-50%, -50%)';
        motionBtn.style.zIndex = '10000';
        
        motionBtn.addEventListener('click', () => {
          DeviceOrientationEvent.requestPermission().then(response => {
            if (response === 'granted') {
              enableDeviceMotion();
              motionBtn.remove();
            }
          });
        });
        
        document.body.appendChild(motionBtn);
        setTimeout(() => {
          if (motionBtn.parentNode) motionBtn.remove();
        }, 3000);
      } else {
        enableDeviceMotion();
      }
    }

    function enableDeviceMotion() {
      deviceMotionEnabled = true;
      
      window.addEventListener('deviceorientation', (event) => {
        const { alpha, beta, gamma } = event;
        
        document.querySelectorAll('.card, .project-card').forEach(card => {
          const tiltX = gamma ? gamma * 0.1 : 0;
          const tiltY = beta ? (beta - 90) * 0.1 : 0;
          
          card.style.transform = `perspective(1000px) rotateX(${tiltY}deg) rotateY(${tiltX}deg)`;
        });
        
        if (scene && camera) {
          camera.position.x += (gamma * 0.001 - camera.position.x) * 0.1;
          camera.position.y += (beta * 0.001 - camera.position.y) * 0.1;
        }
      });
    }

    function initializeTouchEffects() {
      const touchContainer = document.getElementById('cursorEffects');
      
      document.addEventListener('touchstart', (e) => {
        Array.from(e.touches).forEach(touch => {
          createTouchRipple(touch.clientX, touch.clientY);
        });
        
        touchStartTime = Date.now();
      }, { passive: true });
      
      function createTouchRipple(x, y) {
        const ripple = document.createElement('div');
        ripple.className = 'touch-bubble';
        ripple.style.left = (x - 30) + 'px';
        ripple.style.top = (y - 30) + 'px';
        
        touchContainer.appendChild(ripple);
        
        setTimeout(() => ripple.classList.add('active'), 10);
        
        setTimeout(() => {
          if (ripple.parentNode) {
            ripple.parentNode.removeChild(ripple);
          }
        }, 800);
      }
    }

    function initializeSwipeGestures() {
      let startX = 0;
      let startY = 0;
      let currentFilter = 'all';
      const filters = ['all', 'python', 'sql', 'web', 'ai'];
      
      document.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
      }, { passive: true });
      
      document.addEventListener('touchend', (e) => {
        if (!startX || !startY) return;
        
        const endX = e.changedTouches[0].clientX;
        const endY = e.changedTouches[0].clientY;
        
        const deltaX = endX - startX;
        const deltaY = endY - startY;
        
        if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50) {
          const currentIndex = filters.indexOf(currentFilter);
          let newIndex;
          
          if (deltaX > 0) {
            newIndex = currentIndex > 0 ? currentIndex - 1 : filters.length - 1;
          } else {
            newIndex = currentIndex < filters.length - 1 ? currentIndex + 1 : 0;
          }
          
          currentFilter = filters[newIndex];
          
          const filterBtn = document.querySelector(`[data-filter="${currentFilter}"]`);
          if (filterBtn) {
            filterBtn.click();
            
            filterBtn.classList.add('shake');
            setTimeout(() => filterBtn.classList.remove('shake'), 500);
          }
        }
        
        startX = 0;
        startY = 0;
      }, { passive: true });
    }

    function initializeDoubleTapZoom() {
      document.querySelectorAll('.project-card, .skill-category').forEach(element => {
        let lastTap = 0;
        
        element.addEventListener('touchend', (e) => {
          const currentTime = Date.now();
          const tapGap = currentTime - lastTap;
          
          if (tapGap < 300 && tapGap > 0) {
            e.preventDefault();
            
            element.classList.toggle('zoomed');
            element.classList.add('zoom-area');
            
            triggerHapticFeedback(element);
            
            setTimeout(() => {
              element.classList.remove('zoomed');
            }, 3000);
          }
          
          lastTap = currentTime;
        });
      });
    }

    function initializeHapticEffects() {
      document.querySelectorAll('.btn, .chip').forEach(element => {
        element.classList.add('haptic-ready');
        
        element.addEventListener('touchstart', () => {
          triggerHapticFeedback(element);
        }, { passive: true });
      });
    }

    function triggerHapticFeedback(element) {
      element.classList.add('haptic-active');
      setTimeout(() => element.classList.remove('haptic-active'), 300);
      
      if (navigator.vibrate) {
        navigator.vibrate(10);
      }
      
      try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
        gainNode.gain.setValueAtTime(0.01, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.05);
        
        oscillator.start();
        oscillator.stop(audioContext.currentTime + 0.05);
      } catch (e) {}
    }

    function adjustForIOSQuirks() {
      const viewport = document.querySelector('meta[name=viewport]');
      if (viewport) {
        viewport.setAttribute('content', 'width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover');
      }
      
      document.body.classList.add('ios-safe-area');
      
      document.body.style.webkitOverflowScrolling = 'touch';
      
      document.querySelectorAll('.btn, .chip, .project-card').forEach(el => {
        el.style.webkitUserSelect = 'none';
        el.style.userSelect = 'none';
      });
      
      const style = document.createElement('style');
      style.textContent = `
        @media (max-width: 768px) {
          .btn, .chip { 
            min-height: 44px; 
            touch-action: manipulation;
          }
        }
      `;
      document.head.appendChild(style);
    }

    function createMobileParticles() {
      if (!isIOS) return;
      
      const container = document.getElementById('particles');
      if (!container) return;
      
      for (let i = 0; i < 25; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
        
        particle.addEventListener('touchstart', (e) => {
          e.preventDefault();
          particle.style.animation = 'none';
          particle.style.transform = 'scale(2) rotate(360deg)';
          particle.style.opacity = '1';
          
          setTimeout(() => {
            particle.style.animation = '';
            particle.style.transform = '';
            particle.style.opacity = '';
          }, 1000);
        }, { passive: false });
        
        container.appendChild(particle);
      }
    }

    // Interactive Constellation Implementation
    class InteractiveConstellation {
      constructor() {
        this.canvas = document.getElementById('constellationCanvas');
        this.ctx = this.canvas.getContext('2d');
        this.isActive = false;
        this.stars = [];
        this.connections = [];
        this.gravity = { x: 0, y: 0.1 };
        this.mouse = { x: 0, y: 0 };
        this.animationId = null;
        
        this.setupCanvas();
        this.setupControls();
      }

      setupCanvas() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
      }

      setupControls() {
        // Touch and mouse events
        this.canvas.addEventListener('touchstart', (e) => {
          if (!this.isActive) return;
          e.preventDefault();
          Array.from(e.touches).forEach(touch => {
            this.createStar(touch.clientX, touch.clientY);
          });
        }, { passive: false });

        this.canvas.addEventListener('click', (e) => {
          if (!this.isActive) return;
          this.createStar(e.clientX, e.clientY);
        });

        this.canvas.addEventListener('mousemove', (e) => {
          this.mouse.x = e.clientX;
          this.mouse.y = e.clientY;
        });

        // Device orientation for iPhone gravity
        if (isIOS && typeof DeviceOrientationEvent !== 'undefined') {
          window.addEventListener('deviceorientation', (e) => {
            if (!this.isActive) return;
            
            // Use gamma (left-right tilt) and beta (front-back tilt)
            this.gravity.x = (e.gamma || 0) * 0.01;
            this.gravity.y = ((e.beta || 90) - 90) * 0.01 + 0.02;
          });
        }

        // Long press to clear constellation
        let longPressTimer;
        this.canvas.addEventListener('touchstart', (e) => {
          longPressTimer = setTimeout(() => {
            if (navigator.vibrate) navigator.vibrate(100);
            this.clearConstellation();
          }, 1000);
        });

        this.canvas.addEventListener('touchend', () => {
          clearTimeout(longPressTimer);
        });

        // Window resize
        window.addEventListener('resize', () => {
          if (this.isActive) {
            this.setupCanvas();
          }
        });
      }

      createStar(x, y) {
        const star = {
          x: x,
          y: y,
          vx: (Math.random() - 0.5) * 2,
          vy: (Math.random() - 0.5) * 2,
          size: Math.random() * 4 + 3, // Larger stars
          life: 1,
          decay: Math.random() * 0.001 + 0.0005, // Slower decay
          color: '#FFD700', // Yellow color
          twinkle: Math.random() * Math.PI * 2,
          twinkleSpeed: Math.random() * 0.1 + 0.05
        };

        this.stars.push(star);
        
        // Create connections to nearby stars
        this.stars.forEach(otherStar => {
          if (otherStar !== star) {
            const distance = Math.sqrt(
              Math.pow(star.x - otherStar.x, 2) + 
              Math.pow(star.y - otherStar.y, 2)
            );
            
            if (distance < 150 && Math.random() > 0.7) {
              this.connections.push({
                star1: star,
                star2: otherStar,
                opacity: 0.5
              });
            }
          }
        });

        // Haptic feedback
        if (navigator.vibrate) {
          navigator.vibrate(10);
        }

        this.updateCounter();
      }

      updateStars() {
        this.stars = this.stars.filter(star => {
          // Apply gravity
          star.vx += this.gravity.x;
          star.vy += this.gravity.y;
          
          // Apply mouse attraction
          const mouseDistance = Math.sqrt(
            Math.pow(star.x - this.mouse.x, 2) + 
            Math.pow(star.y - this.mouse.y, 2)
          );
          
          if (mouseDistance < 100) {
            const attraction = 0.002;
            star.vx += (this.mouse.x - star.x) * attraction;
            star.vy += (this.mouse.y - star.y) * attraction;
          }
          
          // Update position
          star.x += star.vx;
          star.y += star.vy;
          
          // Bounce off edges
          if (star.x <= 0 || star.x >= this.canvas.width) {
            star.vx *= -0.8;
            star.x = Math.max(0, Math.min(this.canvas.width, star.x));
          }
          if (star.y <= 0 || star.y >= this.canvas.height) {
            star.vy *= -0.8;
            star.y = Math.max(0, Math.min(this.canvas.height, star.y));
          }
          
          // Apply friction
          star.vx *= 0.99;
          star.vy *= 0.99;
          
          // Update life and twinkle
          star.life -= star.decay;
          star.twinkle += star.twinkleSpeed;
          
          return star.life > 0;
        });
        
        // Clean up dead connections
        this.connections = this.connections.filter(conn => 
          this.stars.includes(conn.star1) && this.stars.includes(conn.star2)
        );
      }

      draw() {
        // Clear canvas completely
        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        
        // Draw connections
        this.connections.forEach(conn => {
          const distance = Math.sqrt(
            Math.pow(conn.star1.x - conn.star2.x, 2) + 
            Math.pow(conn.star1.y - conn.star2.y, 2)
          );
          
          const opacity = Math.max(0, (200 - distance) / 200) * 0.3;
          
          this.ctx.strokeStyle = `rgba(255, 215, 0, ${opacity})`;
          this.ctx.lineWidth = 1;
          this.ctx.beginPath();
          this.ctx.moveTo(conn.star1.x, conn.star1.y);
          this.ctx.lineTo(conn.star2.x, conn.star2.y);
          this.ctx.stroke();
        });
        
        // Draw stars
        this.stars.forEach(star => {
          const alpha = Math.max(0.1, star.life * (0.5 + 0.5 * Math.sin(star.twinkle)));
          const currentSize = Math.max(1, star.size * star.life);
          
          // Draw star shape instead of circle
          this.drawStar(star.x, star.y, currentSize, alpha);
        });
      }

      drawStar(x, y, size, alpha) {
        this.ctx.save();
        this.ctx.translate(x, y);
        this.ctx.rotate(Date.now() * 0.001);
        
        // Draw glow
        const gradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, size * 4);
        gradient.addColorStop(0, `rgba(255, 215, 0, ${alpha * 0.8})`);
        gradient.addColorStop(0.5, `rgba(255, 215, 0, ${alpha * 0.4})`);
        gradient.addColorStop(1, 'rgba(255, 215, 0, 0)');
        
        this.ctx.fillStyle = gradient;
        this.ctx.fillRect(-size * 4, -size * 4, size * 8, size * 8);
        
        // Draw star shape
        this.ctx.beginPath();
        for (let i = 0; i < 10; i++) {
          const angle = (i * Math.PI) / 5;
          const radius = i % 2 === 0 ? size : size * 0.5;
          const px = Math.cos(angle) * radius;
          const py = Math.sin(angle) * radius;
          
          if (i === 0) {
            this.ctx.moveTo(px, py);
          } else {
            this.ctx.lineTo(px, py);
          }
        }
        this.ctx.closePath();
        
        // Fill star
        this.ctx.fillStyle = `rgba(255, 215, 0, ${alpha})`;
        this.ctx.fill();
        
        // Add white highlight
        this.ctx.fillStyle = `rgba(255, 255, 255, ${alpha * 0.6})`;
        this.ctx.beginPath();
        for (let i = 0; i < 10; i++) {
          const angle = (i * Math.PI) / 5;
          const radius = i % 2 === 0 ? size * 0.7 : size * 0.3;
          const px = Math.cos(angle) * radius;
          const py = Math.sin(angle) * radius;
          
          if (i === 0) {
            this.ctx.moveTo(px, py);
          } else {
            this.ctx.lineTo(px, py);
          }
        }
        this.ctx.closePath();
        this.ctx.fill();
        
        this.ctx.restore();
      }

      animate() {
        if (!this.isActive) return;
        
        this.updateStars();
        this.draw();
        this.animationId = requestAnimationFrame(() => this.animate());
      }

      start() {
        this.isActive = true;
        this.setupCanvas();
        this.clearConstellation();
        document.getElementById('constellationOverlay').classList.add('active');
        this.animate();
      }

      stop() {
        this.isActive = false;
        if (this.animationId) {
          cancelAnimationFrame(this.animationId);
        }
        document.getElementById('constellationOverlay').classList.remove('active');
      }

      clearConstellation() {
        this.stars = [];
        this.connections = [];
        this.updateCounter();
      }

      updateCounter() {
        const counter = document.getElementById('constellationCounter');
        if (counter) {
          counter.textContent = `Stars: ${this.stars.length}`;
        }
      }
    }

    let constellation;

    // Easter egg - Konami code
    let konamiCode = [];
    const konami = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];

    document.addEventListener('keydown', (e) => {
      konamiCode.push(e.keyCode);
      if (konamiCode.length > konami.length) {
        konamiCode.shift();
      }
      if (JSON.stringify(konamiCode) === JSON.stringify(konami)) {
        document.body.style.filter = 'hue-rotate(180deg)';
        setTimeout(() => {
          document.body.style.filter = '';
          alert('üéÆ Easter egg found! You have good attention to detail - perfect for debugging!');
        }, 2000);
      }
    });

    // Main initialization block
    document.addEventListener('DOMContentLoaded', () => {
      createParticles();
      createCursorEffects();
      
      if (isIOS) {
        initializeIOSFeatures();
        createMobileParticles();
      }
      
      if (typeof THREE !== 'undefined') {
        init3D();
      }
      
      setupRevealAnimations();
      setupFilters();
      animateConsole();
      
      // Initialize constellation
      constellation = new InteractiveConstellation();
      
      // Constellation controls
      const constellationTrigger = document.getElementById('constellationTrigger');
      const constellationClose = document.getElementById('constellationClose');
      
      if (constellationTrigger) {
        constellationTrigger.addEventListener('click', () => {
          constellation.start();
        });
      }
      
      if (constellationClose) {
        constellationClose.addEventListener('click', () => {
          constellation.stop();
        });
      }
      
      // Close constellation on escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && constellation.isActive) {
          constellation.stop();
        }
      });
      
      if (!isIOS) {
        document.querySelectorAll('.project-card').forEach(card => {
          card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-12px) scale(1.02)';
          });
          
          card.addEventListener('mouseleave', () => {
            card.style.transform = 'translateY(0) scale(1)';
          });
        });
      }
    });
  </script>
</body>
</html>
